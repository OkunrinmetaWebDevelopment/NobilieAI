(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[63],{1818:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/settings",function(){return a(1089)}])},7616:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var s=a(4848),l=a(6540),r=a(1106),n=a.n(r),i=a(4557),c=a(1069),o=a(2864),d=a(7199),h=a(5759),u=a(1148),m=a(6969),x=a(6321),f=a(6424),b=a(2043);let g=[{href:"/settings",label:"Settings",icon:i.A},{href:"/upgrade",label:"Upgrade Plan",icon:c.A},{href:"/download",label:"Download App",icon:o.A},{href:"/help",label:"Help & Support",icon:d.A}],p=()=>{let e=(0,f.useRouter)(),[t,a]=(0,l.useState)(!1),[r,i]=(0,l.useState)(!1),[c,o]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=()=>{i(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let d=t=>{t.preventDefault(),(0,b.ri)(),e.push("/")},p=()=>{o(!c)};return(0,s.jsxs)("nav",{className:"bg-gray-900 p-4",children:[(0,s.jsxs)("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[(0,s.jsx)(n(),{href:"/home-dashboard",className:"text-white font-bold text-xl",children:"Noblie AI"}),r?(0,s.jsx)("button",{onClick:p,className:"text-white focus:outline-none",children:(0,s.jsx)(m.A,{className:"h-8 w-8"})}):(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("button",{className:"text-white focus:outline-none",onClick:()=>{a(!t)},children:(0,s.jsx)(x.A,{className:"h-8 w-8"})}),t&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg py-2 z-50",children:[g.map(e=>(0,s.jsxs)(n(),{href:e.href,className:"flex items-center px-4 py-2 text-gray-800 hover:bg-gray-100",children:[(0,s.jsx)(e.icon,{className:"h-5 w-5 mr-2 text-gray-600"}),e.label]},e.href)),(0,s.jsxs)("button",{className:"flex items-center w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100",onClick:d,children:[(0,s.jsx)(h.A,{className:"h-5 w-5 mr-2 text-gray-600"}),"Logout"]})]})]})]}),r&&c&&(0,s.jsxs)("div",{className:"fixed inset-0 bg-gray-900 z-50 lg:hidden",children:[(0,s.jsxs)("div",{className:"flex justify-between p-4",children:[(0,s.jsx)(n(),{href:"/home-dashboard",className:"text-white font-bold text-xl",children:"Noblie AI"}),(0,s.jsx)("button",{onClick:p,className:"text-white focus:outline-none",children:(0,s.jsx)(u.A,{className:"h-8 w-8"})})]}),(0,s.jsxs)("div",{className:"flex flex-col p-4",children:[g.map(e=>(0,s.jsxs)(n(),{href:e.href,className:"flex items-center py-3 text-white hover:bg-gray-800 rounded",onClick:p,children:[(0,s.jsx)(e.icon,{className:"h-6 w-6 mr-3 text-gray-300"}),e.label]},e.href)),(0,s.jsxs)("button",{className:"flex items-center py-3 text-white hover:bg-gray-800 rounded text-left",onClick:d,children:[(0,s.jsx)(h.A,{className:"h-6 w-6 mr-3 text-gray-300"}),"Logout"]})]})]})]})}},2043:(e,t,a)=>{"use strict";a.d(t,{iD:()=>r,ki:()=>l,ri:()=>i});var s=a(1536);let l=e=>{(0,s.setCookie)(null,"accessToken",e,{maxAge:2592e3,path:"/",httpOnly:!1,secure:!0,sameSite:"lax"}),localStorage.setItem("accessToken",e)},r=()=>(0,s.parseCookies)().accessToken||localStorage.getItem("accessToken"),n=()=>{(0,s.destroyCookie)(null,"accessToken"),localStorage.removeItem("accessToken")},i=()=>{n(),window.location.href="/"}},9894:(e,t,a)=>{"use strict";a.d(t,{ru:()=>n});var s=a(4848);a(6540);var l=a(6715),r=a(1536);function n(e){return t=>{let a=(0,l.useRouter)();{let{isAuthenticated:e}=function(e){let t=(0,r.parseCookies)().accessToken;return{isAuthenticated:!!t,token:t}}();if(!e)return a.replace("/"),null}return(0,s.jsx)(e,{...t})}}},1089:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(4848),l=a(6540),r=a(4335),n=a(2043),i=a(9894),c=a(7616);let o="https://8000-01jcjfyykm7971shvzbt4ee75r.cloudspaces.litng.ai/",d=e=>{let{models:t,selectedModel:a,onModelChange:l}=e;return(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Select Model"}),(0,s.jsxs)("select",{value:a||"",onChange:e=>l(Number(e.target.value)),className:"p-2 border border-gray-300 rounded-md w-full",children:[(0,s.jsx)("option",{value:"",disabled:!0,children:"Select a model"}),t.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})]})},h=e=>{let{onClearDatabase:t}=e;return(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Clear Vector Database"}),(0,s.jsx)("div",{className:"flex space-x-2",children:[{key:"pdfVDB",label:"PDF VDB"},{key:"guideVDB",label:"Guide VDB"},{key:"lawVDB",label:"Law VDB"}].map(e=>(0,s.jsxs)("button",{onClick:()=>t(e.key),className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 transition-colors",children:["Clear ",e.label]},e.key))})]})},u=(0,i.ru)(()=>{let[e,t]=(0,l.useState)(null),[a,i]=(0,l.useState)(""),[u,m]=(0,l.useState)(!1),x=[{id:1,name:"Cohere"},{id:2,name:"Ollama"},{id:3,name:"Huggingface"},{id:4,name:"TogetherAi"}],f=async e=>{try{var a;m(!0);let s=(0,n.iD)();if(!s)throw Error("Authentication required");await r.A.put("".concat(o,"admin/update_current-model/").concat(e),{},{headers:{Authorization:"Bearer ".concat(s)}}),t(e);let l=null===(a=x.find(t=>t.id===e))||void 0===a?void 0:a.name;alert("Model ".concat(l," selected successfully"))}catch(e){console.error("Failed to update model:",e),alert("Failed to update model")}finally{m(!1)}},b=async e=>{try{m(!0);let t=(0,n.iD)();if(!t)throw Error("Authentication required");let a=await r.A.delete("".concat(o,"admin/clear-vector-db-admin"),{headers:{Authorization:"Bearer ".concat(t)},params:{path_type:e}});i(a.data.message||"".concat(e," cleared successfully"))}catch(e){console.error("Error clearing database:",e),i("Failed to clear database")}finally{m(!1)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.A,{}),(0,s.jsxs)("div",{className:"p-6 max-w-2xl mx-auto",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Settings"}),(0,s.jsx)(d,{models:x,selectedModel:e,onModelChange:f}),(0,s.jsx)(h,{onClearDatabase:b}),a&&(0,s.jsx)("div",{className:"mt-4 p-3 bg-green-100 text-green-800 rounded",children:a}),u&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-white"})})]})]})})}},e=>{var t=t=>e(e.s=t);e.O(0,[15,335,493,636,593,792],()=>t(1818)),_N_E=e.O()}]);