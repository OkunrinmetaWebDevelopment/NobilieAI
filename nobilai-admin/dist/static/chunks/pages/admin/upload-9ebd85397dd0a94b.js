(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[99],{974:(e,t,l)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/upload",function(){return l(1473)}])},7616:(e,t,l)=>{"use strict";l.d(t,{A:()=>w});var s=l(4848),a=l(6540),o=l(1106),r=l.n(o),i=l(4557),n=l(1069),d=l(2864),c=l(7199),u=l(5759),h=l(1148),x=l(6969),p=l(6321),m=l(6424),f=l(2043);let g=[{href:"/settings",label:"Settings",icon:i.A},{href:"/upgrade",label:"Upgrade Plan",icon:n.A},{href:"/download",label:"Download App",icon:d.A},{href:"/help",label:"Help & Support",icon:c.A}],w=()=>{let e=(0,m.useRouter)(),[t,l]=(0,a.useState)(!1),[o,i]=(0,a.useState)(!1),[n,d]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=()=>{i(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let c=t=>{t.preventDefault(),(0,f.ri)(),e.push("/")},w=()=>{d(!n)};return(0,s.jsxs)("nav",{className:"bg-gray-900 p-4",children:[(0,s.jsxs)("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[(0,s.jsx)(r(),{href:"/home-dashboard",className:"text-white font-bold text-xl",children:"Noblie AI"}),o?(0,s.jsx)("button",{onClick:w,className:"text-white focus:outline-none",children:(0,s.jsx)(x.A,{className:"h-8 w-8"})}):(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("button",{className:"text-white focus:outline-none",onClick:()=>{l(!t)},children:(0,s.jsx)(p.A,{className:"h-8 w-8"})}),t&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg py-2 z-50",children:[g.map(e=>(0,s.jsxs)(r(),{href:e.href,className:"flex items-center px-4 py-2 text-gray-800 hover:bg-gray-100",children:[(0,s.jsx)(e.icon,{className:"h-5 w-5 mr-2 text-gray-600"}),e.label]},e.href)),(0,s.jsxs)("button",{className:"flex items-center w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100",onClick:c,children:[(0,s.jsx)(u.A,{className:"h-5 w-5 mr-2 text-gray-600"}),"Logout"]})]})]})]}),o&&n&&(0,s.jsxs)("div",{className:"fixed inset-0 bg-gray-900 z-50 lg:hidden",children:[(0,s.jsxs)("div",{className:"flex justify-between p-4",children:[(0,s.jsx)(r(),{href:"/home-dashboard",className:"text-white font-bold text-xl",children:"Noblie AI"}),(0,s.jsx)("button",{onClick:w,className:"text-white focus:outline-none",children:(0,s.jsx)(h.A,{className:"h-8 w-8"})})]}),(0,s.jsxs)("div",{className:"flex flex-col p-4",children:[g.map(e=>(0,s.jsxs)(r(),{href:e.href,className:"flex items-center py-3 text-white hover:bg-gray-800 rounded",onClick:w,children:[(0,s.jsx)(e.icon,{className:"h-6 w-6 mr-3 text-gray-300"}),e.label]},e.href)),(0,s.jsxs)("button",{className:"flex items-center py-3 text-white hover:bg-gray-800 rounded text-left",onClick:c,children:[(0,s.jsx)(u.A,{className:"h-6 w-6 mr-3 text-gray-300"}),"Logout"]})]})]})]})}},2043:(e,t,l)=>{"use strict";l.d(t,{iD:()=>o,ki:()=>a,ri:()=>i});var s=l(1536);let a=e=>{(0,s.setCookie)(null,"accessToken",e,{maxAge:2592e3,path:"/",httpOnly:!1,secure:!0,sameSite:"lax"}),localStorage.setItem("accessToken",e)},o=()=>(0,s.parseCookies)().accessToken||localStorage.getItem("accessToken"),r=()=>{(0,s.destroyCookie)(null,"accessToken"),localStorage.removeItem("accessToken")},i=()=>{r(),window.location.href="/"}},9894:(e,t,l)=>{"use strict";l.d(t,{ru:()=>r});var s=l(4848);l(6540);var a=l(6715),o=l(1536);function r(e){return t=>{let l=(0,a.useRouter)();{let{isAuthenticated:e}=function(e){let t=(0,o.parseCookies)().accessToken;return{isAuthenticated:!!t,token:t}}();if(!e)return l.replace("/"),null}return(0,s.jsx)(e,{...t})}}},1473:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>c});var s=l(4848),a=l(6540),o=l(4335),r=l(2043),i=l(9894),n=l(7616);let d={tutorbot:{title:"Chat with TutorBot",allowedTypes:[".pdf",".txt",".docx"],maxSize:0x3200000,endpoint:"".concat("https://8000-01jcjfyykm7971shvzbt4ee75r.cloudspaces.litng.ai/","admin/uploadfiles/")},guidebot:{title:"Explore Mauritius with GuideBot",allowedTypes:[".pdf",".txt",".csv"],maxSize:0x6400000,endpoint:"".concat("https://8000-01jcjfyykm7971shvzbt4ee75r.cloudspaces.litng.ai/","admin/uploadfiles-guidebot-admin/")},lawbot:{title:"Legal Help with LawBot",allowedTypes:[".pdf",".txt",".docx",".md"],maxSize:0x3200000,endpoint:"".concat("https://8000-01jcjfyykm7971shvzbt4ee75r.cloudspaces.litng.ai/","admin/uploadfiles-lawbot-admin/")}},c=(0,i.ru)(()=>{let[e,t]=(0,a.useState)({tutorbot:null,guidebot:null,lawbot:null}),[l,i]=(0,a.useState)({tutorbot:"",guidebot:"",lawbot:""}),[c,u]=(0,a.useState)({tutorbot:0,guidebot:0,lawbot:0}),h=(e,t)=>{var l;let s=d[t],a="."+(null===(l=e.name.split(".").pop())||void 0===l?void 0:l.toLowerCase());return s.allowedTypes.includes(a)?e.size>s.maxSize?"File too large. Max size: ".concat(s.maxSize/1048576,"MB"):null:"Invalid file type. Allowed types: ".concat(s.allowedTypes.join(", "))},x=e=>{var t;if(o.A.isAxiosError(e)&&(null===(t=e.response)||void 0===t?void 0:t.data)){let t=e.response.data;return Array.isArray(t.detail)?t.detail.map(e=>e.msg).join("; "):"string"==typeof t.detail?t.detail:"Upload failed due to an unexpected error"}return e instanceof Error?e.message||"Upload failed":"An unknown error occurred"},p=(e,l)=>{let s=e.target.files?e.target.files[0]:null;if(s){let e=h(s,l);if(e){i(t=>({...t,[l]:e}));return}}t(e=>({...e,[l]:s})),i(e=>({...e,[l]:""})),u(e=>({...e,[l]:0}))},m=async l=>{i(e=>({...e,[l]:""}));let s=(0,r.iD)();if(!s){(0,r.ri)();return}let a=e[l];if(!a){i(e=>({...e,[l]:"Please select a file"}));return}let n=new FormData;n.append("files",a);try{await o.A.post(d[l].endpoint,n,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(s)},onUploadProgress:e=>{if(e.total){let t=Math.round(100*e.loaded/e.total);u(e=>({...e,[l]:t}))}else console.warn("Total size of the upload is undefined.")},maxBodyLength:1/0,maxContentLength:1/0}),t(e=>({...e,[l]:null})),u(e=>({...e,[l]:100})),alert("".concat(l," file uploaded successfully!"))}catch(t){var c;if(console.error("Error uploading to ".concat(l,":"),t),o.A.isAxiosError(t)&&(null===(c=t.response)||void 0===c?void 0:c.status)===401){(0,r.ri)();return}let e=x(t);i(t=>({...t,[l]:e})),u(e=>({...e,[l]:0}))}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.A,{}),(0,s.jsxs)("div",{className:"min-h-screen p-8 bg-gray-100",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Upload Files to VectorDB"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:Object.entries(d).map(t=>{let[a,o]=t;return(0,s.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow-md",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:o.title}),(0,s.jsx)("input",{type:"file",accept:o.allowedTypes.join(","),onChange:e=>p(e,a),className:"w-full p-2 border rounded"}),l[a]&&(0,s.jsx)("p",{className:"text-red-500 text-sm mt-2",children:l[a]}),c[a]>0&&(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mt-2",children:(0,s.jsx)("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:"".concat(c[a],"%")}})}),(0,s.jsxs)("button",{onClick:()=>m(a),className:"mt-4 px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 w-full",disabled:!e[a]||c[a]>0,children:["Upload to ",a.charAt(0).toUpperCase()+a.slice(1)]})]},a)})})]})]})})}},e=>{var t=t=>e(e.s=t);e.O(0,[15,335,493,636,593,792],()=>t(974)),_N_E=e.O()}]);