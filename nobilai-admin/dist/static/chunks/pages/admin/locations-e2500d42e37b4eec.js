(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[380],{1248:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/locations",function(){return s(8185)}])},7616:(e,t,s)=>{"use strict";s.d(t,{A:()=>p});var r=s(4848),a=s(6540),l=s(1106),n=s.n(l),o=s(4557),c=s(1069),i=s(2864),d=s(7199),h=s(5759),x=s(1148),u=s(6969),m=s(6321),f=s(6424),b=s(2043);let j=[{href:"/settings",label:"Settings",icon:o.A},{href:"/upgrade",label:"Upgrade Plan",icon:c.A},{href:"/download",label:"Download App",icon:i.A},{href:"/help",label:"Help & Support",icon:d.A}],p=()=>{let e=(0,f.useRouter)(),[t,s]=(0,a.useState)(!1),[l,o]=(0,a.useState)(!1),[c,i]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=()=>{o(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let d=t=>{t.preventDefault(),(0,b.ri)(),e.push("/")},p=()=>{i(!c)};return(0,r.jsxs)("nav",{className:"bg-gray-900 p-4",children:[(0,r.jsxs)("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[(0,r.jsx)(n(),{href:"/home-dashboard",className:"text-white font-bold text-xl",children:"Noblie AI"}),l?(0,r.jsx)("button",{onClick:p,className:"text-white focus:outline-none",children:(0,r.jsx)(u.A,{className:"h-8 w-8"})}):(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{className:"text-white focus:outline-none",onClick:()=>{s(!t)},children:(0,r.jsx)(m.A,{className:"h-8 w-8"})}),t&&(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg py-2 z-50",children:[j.map(e=>(0,r.jsxs)(n(),{href:e.href,className:"flex items-center px-4 py-2 text-gray-800 hover:bg-gray-100",children:[(0,r.jsx)(e.icon,{className:"h-5 w-5 mr-2 text-gray-600"}),e.label]},e.href)),(0,r.jsxs)("button",{className:"flex items-center w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100",onClick:d,children:[(0,r.jsx)(h.A,{className:"h-5 w-5 mr-2 text-gray-600"}),"Logout"]})]})]})]}),l&&c&&(0,r.jsxs)("div",{className:"fixed inset-0 bg-gray-900 z-50 lg:hidden",children:[(0,r.jsxs)("div",{className:"flex justify-between p-4",children:[(0,r.jsx)(n(),{href:"/home-dashboard",className:"text-white font-bold text-xl",children:"Noblie AI"}),(0,r.jsx)("button",{onClick:p,className:"text-white focus:outline-none",children:(0,r.jsx)(x.A,{className:"h-8 w-8"})})]}),(0,r.jsxs)("div",{className:"flex flex-col p-4",children:[j.map(e=>(0,r.jsxs)(n(),{href:e.href,className:"flex items-center py-3 text-white hover:bg-gray-800 rounded",onClick:p,children:[(0,r.jsx)(e.icon,{className:"h-6 w-6 mr-3 text-gray-300"}),e.label]},e.href)),(0,r.jsxs)("button",{className:"flex items-center py-3 text-white hover:bg-gray-800 rounded text-left",onClick:d,children:[(0,r.jsx)(h.A,{className:"h-6 w-6 mr-3 text-gray-300"}),"Logout"]})]})]})]})}},2043:(e,t,s)=>{"use strict";s.d(t,{iD:()=>l,ki:()=>a,ri:()=>o});var r=s(1536);let a=e=>{(0,r.setCookie)(null,"accessToken",e,{maxAge:2592e3,path:"/",httpOnly:!1,secure:!0,sameSite:"lax"}),localStorage.setItem("accessToken",e)},l=()=>(0,r.parseCookies)().accessToken||localStorage.getItem("accessToken"),n=()=>{(0,r.destroyCookie)(null,"accessToken"),localStorage.removeItem("accessToken")},o=()=>{n(),window.location.href="/"}},9894:(e,t,s)=>{"use strict";s.d(t,{ru:()=>n});var r=s(4848);s(6540);var a=s(6715),l=s(1536);function n(e){return t=>{let s=(0,a.useRouter)();{let{isAuthenticated:e}=function(e){let t=(0,l.parseCookies)().accessToken;return{isAuthenticated:!!t,token:t}}();if(!e)return s.replace("/"),null}return(0,r.jsx)(e,{...t})}}},8185:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(4848),a=s(6540),l=s(4335),n=s(9894);function o(e){let{location:t,onVerify:s}=e;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"border border-gray-300 p-2",children:t.id}),(0,r.jsx)("td",{className:"border border-gray-300 p-2",children:t.from_location}),(0,r.jsx)("td",{className:"border border-gray-300 p-2",children:t.to_destination}),(0,r.jsx)("td",{className:"border border-gray-300 p-2",children:t.description}),(0,r.jsx)("td",{className:"border border-gray-300 p-2 text-center",children:(0,r.jsx)("input",{type:"checkbox",checked:t.verified,onChange:e=>s(t.id,e.target.checked),className:"form-checkbox"})})]})}function c(e){let{locations:t,onVerify:s}=e;return(0,r.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-100",children:[(0,r.jsx)("th",{className:"border border-gray-300 p-2",children:"ID"}),(0,r.jsx)("th",{className:"border border-gray-300 p-2",children:"From"}),(0,r.jsx)("th",{className:"border border-gray-300 p-2",children:"To"}),(0,r.jsx)("th",{className:"border border-gray-300 p-2",children:"Description"}),(0,r.jsx)("th",{className:"border border-gray-300 p-2",children:"Verified"})]})}),(0,r.jsx)("tbody",{children:t.map(e=>(0,r.jsx)(o,{location:e,onVerify:s},e.id))})]})}function i(){return(0,r.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-blue-500"})})}var d=s(2043),h=s(7616);let x="https://8000-01jcjfyykm7971shvzbt4ee75r.cloudspaces.litng.ai/",u=(0,n.ru)(function(){let[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(!0),[o,u]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{let e=(0,d.iD)(),s=await l.A.get("".concat(x,"admin/get-directions-locations/"),{headers:{Authorization:"Bearer ".concat(e)}});t(s.data)}catch(e){console.error("Failed to fetch locations",e),u("Failed to load locations")}finally{n(!1)}})()},[]);let m=async(e,s)=>{try{let r=(0,d.iD)();await l.A.put("".concat(x,"admin/locations/").concat(e,"/verify"),{verified:s},{headers:{Authorization:"Bearer ".concat(r)}}),t(t=>t.map(t=>t.id===e?{...t,verified:s}:t))}catch(e){console.error("Failed to update verification status",e)}};return s?(0,r.jsx)(i,{}):o?(0,r.jsx)("div",{className:"p-6 text-red-500",children:o}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.A,{}),(0,r.jsxs)("div",{className:"p-6 max-w-4xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Locations Verification"}),(0,r.jsx)(c,{locations:e,onVerify:m})]})]})})}},e=>{var t=t=>e(e.s=t);e.O(0,[15,335,493,636,593,792],()=>t(1248)),_N_E=e.O()}]);